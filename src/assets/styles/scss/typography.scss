@import './_config.scss';

/* ============================================================================
   BASE & RESET
   ========================================================================= */

* {
  font-kerning: auto;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  unicode-range: U+000-5FF;
}

h1,
h2,
h3,
h4,
h5,
h6,
p {
  margin: 0;
  opacity: 1 !important;
}

/* ============================================================================
   FONT CONFIGURATION
   ========================================================================= */

body {
  font-family: var(--fontFamily-primary);
  letter-spacing: var(--letterSpacing-base);
}

body:has(input[value='Serif']:checked) {
  font-family: var(--fontFamily-tertiary);
}

body:has(input[value='Serif']:checked) .display h1 {
  font-family: var(--fontFamily-Serif) !important;
}

/* ============================================================================
   HEADINGS
   ========================================================================= */

h1 {
  font-size: var(--font-900);
  font-weight: var(--fontWeight-bold);
  line-height: var(--lineHeight-shorter);
  letter-spacing: var(--letterSpacing-tight) !important;
  font-variation-settings:
    'YAXS' 400,
    'wdth' 110,
    'opsz' 48;
}

.display h1 {
  font-size: var(--font-1000);
  font-family: var(--fontFamily-displaySans);
  font-weight: var(--fontWeight-bold);
  font-variation-settings:
    'YAXS' 400,
    'wdth' 100,
    'opsz' 48;
}

h2 {
  font-size: var(--size-9);
  font-weight: var(--fontWeight-bold);
  line-height: var(--lineHeight-base);
  letter-spacing: var(--letterSpacing-tight) !important;
  font-variation-settings:
    'YAXS' 400,
    'wdth' 105,
    'opsz' 48;
}

h3 {
  font-size: var(--font-700);
  font-weight: var(--fontWeight-bold);
  line-height: var(--lineHeight-base);
  letter-spacing: var(--letterSpacing-base) !important;
  font-variation-settings:
    'YAXS' 400,
    'wdth' 110,
    'opsz' 48;
}

h4 {
  font-size: var(--font-600);
  font-weight: var(--fontWeight-medium) !important;
  line-height: var(--lineHeight-tall);
  font-variation-settings:
    'YAXS' 400,
    'wdth' 100,
    'opsz' 48;
}

h5 {
  font-size: var(--font-500);
  font-weight: var(--fontWeight-medium);
  line-height: var(--lineHeight-tall);
  font-variation-settings:
    'YAXS' 400,
    'wdth' 110,
    'opsz' 48;
  margin: 0;
}

/* Eyebrow text */
h6 {
  font-size: var(--font-400);
  font-weight: var(--fontWeight-medium);
  line-height: var(--lineHeight-tall);
  letter-spacing: var(--letterSpacing-loose);
  text-transform: uppercase !important;
  font-variation-settings:
    'YAXS' 400,
    'wdth' 115,
    'opsz' 48;
}

/* ============================================================================
   BODY TEXT
   ========================================================================= */

p,
li,
blockquote {
  font-weight: var(--fontWeight-medium) !important;
  font-size: var(--font-500);
  line-height: var(--lineHeight-taller);
  color: rgba(var(--foreground-rgb), 0.75) !important;
  font-variation-settings:
    'wdth' 102,
    'opsz' 20;
}

blockquote {
  background: var(--background-darker);
  border-inline-start: var(--spacing-xxxs) solid var(--link);
  border-radius: var(--spacing-xxxs);
  color: var(--foreground);
  margin: var(--spacing-md) 0;
  padding: var(--spacing-sm) var(--spacing-md);
}

/* ============================================================================
   LINKS
   ========================================================================= */

a,
router-link {
  position: relative;
  color: var(--foreground) !important;
  font-weight: var(--fontWeight-medium) !important;
  opacity: 1 !important;
  cursor: pointer;
  font-size: var(--font-500);
  text-decoration: underline;
  text-underline-offset: 0.75rem;
  text-decoration-thickness: 0.1rem;
  font-variation-settings: 'opsz' 19;
}

/* Ensure text elements inside links inherit link styling */
a p,
a li,
a h1,
a h2,
a h3,
a h4,
a h5,
a h6,
router-link p,
router-link li,
router-link h1,
router-link h2,
router-link h3,
router-link h4,
router-link h5,
router-link h6 {
  color: inherit !important;
  font-weight: inherit !important;
  opacity: inherit !important;
}

/* Link states */
a:hover {
  text-decoration: underline;
  text-underline-offset: 0.75rem;
  text-decoration-thickness: 0.2rem;
}

a:active,
.router-link-exact-active {
  text-decoration: underline dashed;
  text-underline-offset: 0.75rem;
  text-decoration-thickness: 0.1rem;
}

a:visited {
  /* Inherit default color */
}

/* Heading link overrides */
h1 a {
  text-decoration: none;
}

h1 a:hover {
  position: relative;
  text-decoration: none;
}

h1 a:active,
h2 a:active,
h3 a:active {
  position: relative;
}

/* ============================================================================
   HTML ELEMENTS
   ========================================================================= */

hr {
  border-width: 1px !important;
  border: var(--border);
}

figcaption {
  font-size: var(--font-xs) !important;
  font-style: italic;
  margin: var(--spacing-xs) 0 0 0;
  opacity: 0.7 !important;
}

/* ============================================================================
   UTILITY CLASSES
   ========================================================================= */

.line-clamp {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
}

.line-length {
  max-width: 64rem !important;
}

.subtle {
  opacity: 0.75 !important;
}

.dropcap:first-letter {
  float: left;
  font-size: var(--font-lg);
  line-height: var(--lineHeight-none) 0.65;
  margin: var(--spacing-xxs) var(--spacing-xs) 0 0;
  padding: var(--spacing-xxs);
  background: var(--background-reversed);
  color: var(--foreground-reversed);
}

.isDisabled {
  color: currentColor;
  cursor: not-allowed;
  opacity: 0.5;
  text-decoration: none;
}

/* ============================================================================
   REVERSED/INVERTED THEME
   ========================================================================= */

.reversed {
  color: var(--foreground-reversed) !important;
  mix-blend-mode: normal !important;
  background: var(--background-reversed);
}

.reversed a,
.reversed a::after {
  color: var(--link-reversed) !important;
  font-weight: var(--font-reversed-normal) !important;
}

.reversed p,
.reversed blockquote {
  color: var(--foreground-reversed) !important;
  opacity: 0.75 !important;
  font-weight: var(--font-reversed-normal) !important;
}

.reversed h1,
.reversed h2,
.reversed h3,
.reversed h4,
.reversed h5 {
  color: var(--foreground-reversed) !important;
  font-weight: var(--font-reversed-bold) !important;
}

.reversed h6 {
  color: var(--foreground-reversed) !important;
  font-weight: var(--font-reversed-bold) !important;
  letter-spacing: var(--letterSpacing-reversed-loose);
}

/* External link indicator */
.external:after {
  content: ' ↗';
  color: inherit !important;
  font-weight: var(--font-reversed-normal) !important;
}

.reversed .external:after {
  content: ' ↗';
  font-weight: var(--font-reversed-normal) !important;
}

/* ============================================================================
   RESPONSIVE BREAKPOINTS
   ========================================================================= */

/* Tablet (MD) */
@media only screen and (min-width: 768px) {
  h1 {
    padding-block-end: 4px;
  }
  h2 {
    font-size: var(--size-12);
  }
}

/* Desktop (LG) */
@media only screen and (min-width: 1201px) {
  /* Reserved for future use */
}

/* Large Desktop (XL) */
@media only screen and (min-width: 1441px) {
  .display p {
    font-size: var(--font-600);
    line-height: var(--lineHeight-base);
  }
}

/* Extra Large Desktop (XXL) */
@media only screen and (min-width: 1680px) {
  /* Reserved for future use */
}

/* ============================================================================
   PRINT STYLES
   ========================================================================= */

@media print {
  :root {
    /* Compressed line heights for one-page fit */
    --lineHeight-taller: 1.2;
    --lineHeight-tall: 1.15;
    --lineHeight-base: 1.2;
    --lineHeight-short: 1.1;
    --lineHeight-shorter: 1.05;
  }

  /* Use standard Arial/Helvetica for ATS compatibility */
  * {
    font-family: Arial, Helvetica, sans-serif !important;
    font-variation-settings: normal !important;
    -webkit-font-smoothing: auto !important;
    -moz-osx-font-smoothing: auto !important;
  }

  /* Text elements */
  p,
  blockquote {
    line-height: 1.2;
    font-weight: 400;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    line-height: 1.1;
    margin: 0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p {
    letter-spacing: 0 !important;
  }

  strong {
    font-weight: 700;
  }

  a {
    color: black;
    text-decoration: none;
  }

  /* Lists */
  ul,
  ol {
    margin: 0.2rem 0;
    padding-inline-start: 1.2rem;
    line-height: 1.2;

    li {
      margin-block-end: 0.1rem;
      line-height: 1.2;
      color: black !important;
      font-size: 10pt !important;

      a {
        color: black !important;
        text-decoration: none !important;
      }

      * {
        color: black !important;
      }
    }
  }

  /* Markdown content */
  .markdown-main,
  .content,
  #markdown-content-end {
    h1 {
      font-size: 14pt !important;
      margin-block-end: 0.1rem !important;
    }

    h2 {
      font-size: 11pt !important;
      font-weight: 700 !important;
      margin-block-end: 0.15rem !important;
      margin-block-start: 0.25rem !important;
    }

    h3 {
      font-size: 10pt !important;
      font-weight: 700 !important;
      margin-block-end: 0.1rem !important;
      margin-block-start: 0.15rem !important;
    }

    p {
      font-size: 10pt !important;
      margin: 0.1rem 0 !important;
      color: black !important;
      line-height: 1.2 !important;
    }

    a {
      font-size: 10pt !important;
      color: black !important;
      text-decoration: none !important;
    }
  }

  /* Layout optimization */
  .markdown-main,
  .markdown-page-wrapper,
  .content {
    max-width: 100%;
    padding: 0;
    margin: 0;
  }

  .markdown-layout {
    display: block;
    max-width: 100%;
  }

  section,
  article {
    margin-block-end: 0.3rem;
  }

  /* Hide UI elements */
  .markdown-share,
  .share-widget,
  .toc-sidebar-wrap,
  nav,
  footer,
  .hero-banner,
  .hero-fullscreen-image,
  .custom-chat-ui,
  button,
  .header-nav,
  .main-footer,
  .simple-footer,
  .sticky-nav,
  .author-bio-bar,
  div#related-writing-section,
  #related-writing-section,
  #related-writing-section * {
    display: none !important;
    visibility: hidden !important;
  }
}
